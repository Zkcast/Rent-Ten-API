<p>Cargando...{{loading$ | async | json}}</p>
<p>Pais...{{pais$| json}}</p>
<p>Ciudad...{{city$| json}}</p>


<div>
    <div>
        <select name="countries" [(ngModel)]="pais$" (change)="onChange(pais$.name)"
            class="form-select form-select-lg mb-3" aria-label="Ejemplo de .form-select-lg" (change)="onSelect($event)">
            <option *ngFor="let country of countries$ |async" [ngValue]="country">{{country.name}}</option>
        </select>
        <select name="cities" [(ngModel)]="city$" class="form-select form-select-lg mb-3"
            aria-label="Ejemplo de .form-select-lg">
            <option *ngFor="let ciudad of city$" [ngValue]="city$">{{ciudad}}</option>
        </select>
    </div>
</div>

<!-- *ngIf="city$.length" -->


<!-- <select name="countries" [(ngModel)]="pais" (change)="onChange(pais.name)">
    <option *ngFor="let country of countries$ |async" [ngValue]="country">{{country.name}}</option>
</select>
{{pais.name | json}} -->





<!-- <ng-container *ngFor="let menaceProcessus of menaceProcessusTab">
    <tr>
         <td colspan="4" bgcolor="#f1f1f1"><b>{{menaceProcessus?.processus?.nom}}</b></td>
    </tr>
    <ng-container *ngFor="let actif of menaceProcessus?.actifs">
        <tr>
            <td [rowSpan]="actif?.menaces?.length+1">{{actif?.actif?.nom}}</td>
        </tr>
     <ng-container *ngFor="let mnVuln of actif?.menaces">
        <tr>
             <td>{{mnVuln?.vulnerabilite?.nom}}</td>
             <td>
                 <select class="form-control" 
                  (change)="mnVuln?.menaceActif?.menace.id = $event.target.value; 
                            updateMenaceProcessus()">
                      <option></option>
                      <option *ngFor="let menace of menaces" 
                          [value]="menace.id" 
                          [selected]="menace.id === mnVuln?.menaceActif?.menace.id">
                        {{menace.nom}}</option>
                  </select>
              </td>
              <td>
                 <input class="form-control" 
                    type="text" [value]="mnVuln?.menaceActif?.probabilite"> 
              </td>
          </tr>
      </ng-container>
    </ng-container>
 </ng-container> -->

<b *ngFor="let country of countries$ |async">{{country.name}}</b>
<!-- <div class="container">
    <div class="row align-items-start">
        <div *ngFor="let house of allHouses">
            <div class="col">
                <img style="max-width: 270px" class="img-thumbnail" src={{house.picture}} />
                <ul>
                    <li>{{house.id}}</li>
                    <li>Country: {{house.country}}</li>
                    <li>City: {{house.city}}</li>
                    <li>Rooms: {{house.rooms}}</li>
                    <li>Bathrooms: {{house.bathrooms}}</li>
                    <li>Maxpeople: {{house.maxpeople}}</li>
                    <li>Allowpets: {{house.allowpets}}</li>
                    <button *ngIf="checkIsFavorite(house.id) === false" class="btn btn-outline-warning"
                        (click)="setFavorite(house.id, dbProfile.id)">Add to favorites</button>
                    <button *ngIf="checkIsFavorite(house.id) === true" class="btn btn-outline-danger"
                        (click)="deleteFavorite(house.id, dbProfile.id)">Delete from favorites</button>
                </ul>
            </div>
        </div>
    </div>
</div> -->
<!--
<div>checkin: <input required pattern="\d{4}-\d{2}-\d{2}" [(ngModel)]="checkin" type="date"></div>
<div>checkout: <input required pattern="\d{4}-\d{2}-\d{2}" [(ngModel)]="checkout" type="date"></div>
 -->

<button (click)="showInfo()"></button>

<div class='container'>
    <form [formGroup]="form">
        <mat-form-field>

            <mat-date-range-input [rangePicker]="picker" [dateFilter]="unavailableDays" formGroupName="daterange">
                <input matStartDate placeholder="start date" formControlName="start">
                <input matEndDate placeholder="end date" formControlName="end">
            </mat-date-range-input>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>

        </mat-form-field>
    </form>
</div>



<app-house *ngFor="let house of allHouses" [house]="house"></app-house>